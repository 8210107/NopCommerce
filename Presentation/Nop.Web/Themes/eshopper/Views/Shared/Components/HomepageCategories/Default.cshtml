@model IList<CategoryModel>
@using Nop.Core;
@using Nop.Web.Models.Catalog;
@inject IWorkContext workContext
@{
    //Html.AddScriptParts(ResourceLocation.Footer, $"~/Themes/eshopper/Scripts/jquery.bxslider.js");
    <script src="~/Themes/eshopper/Scripts/jquery.bxslider.js" asp-location="Footer"></script>

    var supportRtl = (await workContext.GetWorkingLanguageAsync()).Rtl;
    if (supportRtl)
    {
        //Html.AddCssFileParts($"~/Themes/eshopper/Content/css/jquery.bxslider.rtl.css");
        <link rel="stylesheet" href="~/Themes/eshopper/Content/css/jquery.bxslider.rtl.css" />
    }
    else
    {
        //Html.AddCssFileParts($"~/Themes/eshopper/Content/css/jquery.bxslider.css");
        <link rel="stylesheet" href="~/Themes/eshopper/Content/css/jquery.bxslider.css" />

    }
}

@if (Model.Count > 0)
{
    <div class="features_items">

        <div class="custom-page-box-border-less-div">
            <h2 class="title text-center">@T("Featured Category")</h2>
            <div class="featured-category" @*id="featured-catagory-carousel" class="carousel slide" data-ride="carousel"*@>
                <!-- Indicators -->
                <!-- Wrapper for slides -->
                @*<div class="carousel-inner">
                            @{
                                var ci = 0;
                            }
                            @foreach (var item in Model)
                            {
                                if (ci == 0)
                                {
                                    @:<div class="item active">
                                        @:<div class="row box-products">
                                        }
                                        else if (ci % 4 == 0)
                                        {
                                            @:<div class="item">
                                                @:<div class="row box-products">
                                                }

                                                      <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                                          <div class="product-image-wrapper">
                                                              <div class="single-products">
                                                                  <div class="productinfo text-center">
                                                                      <a href="@Url.RouteUrl("Category", new {SeName = item.SeName})" title="@item.PictureModel.Title">
                                                                          <img class="img-responsive" alt="@item.PictureModel.AlternateText" src="@item.PictureModel.ImageUrl"
                                                                               title="@item.PictureModel.Title" />
                                                                      </a>
                                                                      <p>
                                                                          <a href="@Url.RouteUrl("Category", new {SeName = item.SeName})" title="@item.PictureModel.Title">
                                                                              @item.Name
                                                                          </a>

                                                                      </p>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>


                                                if (ci % 4 == 3)
                                                {
                                                @:</div>
                                            @:</div>
                                        }
                                        ci++;
                                    }
                            @if (ci % 3 != 0)
                            {
                            @:</div>
                        @:</div>
                    }

                        </div>*@

                <div class="slider">
                    @foreach (var item in Model)
                    {
                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                            <div class="product-image-wrapper">
                                <div class="single-products">
                                    <div class="productinfo text-center">
                                        <a href="@Url.RouteUrl("Category", new {SeName = item.SeName})" title="@item.PictureModel.Title">
                                            <img class="img-responsive" alt="@item.PictureModel.AlternateText" src="@item.PictureModel.ImageUrl"
                                                 title="@item.PictureModel.Title" />
                                        </a>
                                        <p>
                                            <a href="@Url.RouteUrl("Category", new {SeName = item.SeName})" title="@item.PictureModel.Title">
                                                @item.Name
                                            </a>

                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>




                @*@if (Model.Count > 4)
                    {
                        <a class="left recommended-item-control" href="#featured-catagory-carousel" data-slide="prev">
                            <i class="fa fa-angle-left"></i>
                        </a>
                        <a class="right recommended-item-control" href="#featured-catagory-carousel" data-slide="next">
                            <i class="fa fa-angle-right"></i>
                        </a>

                    }*@

            </div>
        </div>
    </div>
}






<script asp-location="Footer">
    $(document).ready(function () {

        var sliderWidth = 200;
        var e = window, a = 'inner';
        if (!('innerWidth' in window)) {
            a = 'client';
            e = document.documentElement || document.body;
        }
        var result = { width: e[a + 'Width'], height: e[a + 'Height'] };
        if (result.width < 450) {
            sliderWidth = 250;
        }


        $('.slider').bxSlider({
            maxSlides: 4,
            slideWidth: sliderWidth,
            slideMargin: 10,
            responsive: true,
            auto: true,
            pager: false,
            touchEnabled: true,

        });
    });
</script>